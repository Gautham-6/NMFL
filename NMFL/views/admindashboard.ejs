<!DOCTYPE html>
<html>
<head>
<title>NMFL - Admin Dashboard</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=1000">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<link rel="stylesheet" href="/css/index.css">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script difer src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script difer src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script difer src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/js/all.min.js" integrity="sha256-qM7QTJSlvtPSxVRjVWNM2OfTAz/3k5ovHOKmKXuYMO4=" crossorigin="anonymous"></script>
<!-- include css content -->


</head>

<style>
  .card-img-top{
    border-radius: 40px;
    padding: 20px;
  }
  .card{
    border-radius: 30px;
    transition: all 0.3s;
    box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;
  }
  .card:hover{
    transform: scale(1.08);
  }
  .card-body{
    padding: 25px;
    margin-top: -15px
  }
  .btn-primary{
    border-radius: 30px;
    width: 100%;
  }
  .btn-primary:hover{
    background-color: black;
  }
  h3,h5{
    color: rgb(0,91,228);
  }
  .card-footer {
  background: transparent;
  border-top: 0px;
}
</style>

<body class="w3-content" style="max-width:1600px">

<!-- header content insertion -->
<!-- Sidebar/menu -->


<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar w3-white w3-card w3-animate-top" id="myNavbar">
    <h3 class="w3-wide w3-text-black"><b><a href="/" style="text-decoration:none;" >NMFL</a></b></h3>
    <!-- Right-sided navbar links -->
    <div class="w3-right w3-hide-small">
      <a href="/admindashboard" class="w3-bar-item w3-button">DASHBOARD</a>
      <a href="/managehospitals" class="w3-bar-item w3-button"><i class="fa fa-th"></i>MANAGE HOSPITALS</a>
      <a href="/adminlogout" class="w3-bar-item w3-button"><i class="fa fa-usd"></i> LOGOUT</a>
    </div>
    <!-- Hide right-floated links on small screens and replace them with a menu icon -->
<a href="javascript:void(0)" class="w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium" onclick="w3_open()">
      <i class="fa fa-bars"></i>
    </a>

  </div>
</div>

<!-- Sidebar on small screens when clicking the menu icon -->
<nav class="w3-sidebar w3-bar-block w3-black w3-card w3-animate-left w3-hide-medium w3-hide-large" style="display:none" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-bar-item w3-button w3-large w3-padding-16">Close Ã—</a>
  <a href="/admindashboard" onclick="w3_close()" class="w3-bar-item w3-button">DASHBOARD</a>
  <a href="#team" onclick="w3_close()" class="w3-bar-item w3-button">HOSPITALS</a>
  <a href="/managehospitals" onclick="w3_close()" class="w3-bar-item w3-button">MANAGE HOSPITALS</a>
  <a href="/adminlogout" onclick="w3_close()" class="w3-bar-item w3-button">LOGOUT</a>
</nav>




<!-- !PAGE CONTENT! -->
<br><br>
<br>
<br>
<br>
<div class="container">
  <div class="row row-cols-1 row-cols-md-3 gy-4 py-8">
    <% for(var i=0;i<hospitals.length;i++){ %>
    <div class="col">
      <div class="card h-100">
        <img src="https://c4.wallpaperflare.com/wallpaper/96/377/232/anime-everlasting-summer-hospital-original-anime-wallpaper-preview.jpg" class="card-img-top" alt="...">
        <div class="card-body d-flex flex-column">
          <h3 class="card-title"><b><%= hospitals[i].HospitalName%></b></h3>
          <ul class="list-group list-group-flush">
          <li class="list-group-item"><b>Address:</b> <%= hospitals[i].HospitalAddress%></li>
          <li class="list-group-item"><b>Insurance:</b> <%= hospitals[i].HospitalInsurance%></li>
          <li class="list-group-item"><b>Email:</b> <%=hospitals[i].HospitalAdminEmail%></li>
          <%services.forEach(service=>{%>
            <%if(service.hospitalid == hospitals[i]._id){ %>
            <li class="list-group-item"><b>Features:</b> <%=service.FeatureName%>, <%=service.FeaturePrice%>$</li>
            <%}})%>
        </ul>
          <button type="submit" id="button<%= i %>" class="btn btn-primary mt-auto" data-toggle="modal" data-target="#exampleModalLong<%= i %>">
            View Details
          </button>
        </div>
      </div>
    </div>


<script>
const buttons = document.querySelectorAll('button');
const modalTitle = document.querySelector('.modal-title');

buttons.forEach(button => {
  button.addEventListener('click', () => {
    const id = button.id.replace('button', '');
    modalTitle.textContent = hospitals[id].HospitalName;
    modalTitle.Address = hospitals[id].HospitalAddress;
    modalTitle.Insurance = hospitals[id].HospitalInsurance;
    modalTitle.City = hospitals[id].HospitalCity;
    modalTitle.State = hospitals[id].HospitalState;
    modalTitle.ZipCode = hospitals[id].HospitalPincode;
    modalTitle.Email = hospitals[id].HospitalEmail;
  });
});
</script>

<!-- Modal -->
<div class="modal fade" id="exampleModalLong<%= i %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle<%= i %>" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle<%= i %>"><%= hospitals[i].HospitalName %></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
            <div class="modal-body">
              <ul class="list-group list-group-flush">
                 <li class="list-group-item" id="exampleModalLongTitle<%= i %>"><b>Address:</b> <%= hospitals[i].HospitalAddress%></li>
                 <li class="list-group-item" id="exampleModalLongTitle<%= i %>"><b>Insurance:</b><%= hospitals[i].HospitalInsurance%></li>
                 <li class="list-group-item" id="exampleModalLongTitle<%= i %>"><b>City:</b> <%= hospitals[i].HospitalCity%></li>
                 <li class="list-group-item" id="exampleModalLongTitle<%= i %>"><b>State:</b> <%=hospitals[i].HospitalState%></li>
                 <li class="list-group-item" id="exampleModalLongTitle<%= i %>"><b>Zip Code:</b> <%=hospitals[i].HospitalPincode%></li>
                 <li class="list-group-item" id="exampleModalLongTitle<%= i %>"><b>Email:</b> <%=hospitals[i].HospitalAdminEmail%></li>

               </ul>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
      <% } %>
    </div>
    </div>

<br>
  <div class="w3-cyan w3-center w3-padding-24">Powered by ASU</div>

  </div>
</body>
</html>
<!-- Button trigger modal -->
