<!DOCTYPE html>
<html>
<head>
<title>NMFL - Hospital Page</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="stylesheet" href="./css/chatbot.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css'>
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css'><link rel="stylesheet" href="./style.css">
<!-- include css content -->
<link rel="stylesheet" href="/css/index.css">
<style>
* {
  box-sizing: border-box;
}
body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", sans-serif}

body, html {
  height: 100%;
  line-height: 1.8;
}
.columns {
  margin: auto;
  width: 45%;
  padding: 8px;
}

.price {
  list-style-type: none;
  border: 1px solid #eee;
  margin: 0;
  padding: 0;
  -webkit-transition: 0.3s;
  transition: 0.3s;
}

.price:hover {
  box-shadow: 0 8px 12px 0 rgba(0,0,0,0.2)
}

.price .header {
  background-color: #111;
  color: white;
  font-size: 25px;
}

.price li {
  border-bottom: 1px solid #eee;
  padding: 20px;
  text-align: center;
}

.price .grey {
  background-color: #eee;
  font-size: 20px;
}

.hospital-details {
    padding: 0px 0;
    text-align: center;
}

.button {
  background-color: #04AA6D;
  border: none;
  color: white;
  padding: 10px 25px;
  text-align: center;
  text-decoration: none;
  font-size: 18px;
}

@media only screen and (max-width: 600px) {
  .columns {
    width: 100%;
    margin: auto;
  }


}

.insucard{
  border-radius: 20px;
  margin-left: 15px;
  margin-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  margin: auto;
  height: 470px;
  width: 300px;
}

.bgimg-1 {
  background-position: center;
  background-size: cover;
  background-image: url("<%= session.hospitalData.hosimage%>");
  min-height: 100%;
  margin-left:2px
}

.w3-col{
  margin-left:10px;
  margin-top:10px;
}
::-webkit-scrollbar {
  width: 5px;

}

/* Track */
::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 20px;
}

/* Handle */
::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 10px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #555;

}


.testimonial-slider {
  background-color: #5072a7;
  padding: 3em 2em;
}
.testimonial-title {
  color: #fff;
}
.testimonial-title h2 {
  padding-left: 0.2em;
}
.card {
  margin: 0 0.5em;
  box-shadow: 2px 6px 8px 0 rgba(22, 22, 26, 0.18);
  border: none;
  height: 100%;
}
.carousel-control-prev,
.carousel-control-next {
  background-color: #fff;
  width: 3em;
  height: 3em;
  border-radius: 50%;
  top: 60%;
  transform: translateY(-50%);
}

@media (min-width: 576px) {
  .carousel-item {
    margin-right: 0;
    flex: 0 0 50%;
    display: block;
  }
  .carousel-inner {
    display: flex;
  }
}
@media (min-width: 768px) {
  .carousel-inner {
    padding: 1em;
  }
  .carousel-control-prev,
  .carousel-control-next {
    opacity: 1;
    position: absolute;
    left: 1em;
    top: 90%;
    transform: translateY(-50%);
  }
  .carousel-control-next {
    left: 5em;
  }
}

/* .bgimg-1 {
  background-position: center;
  background-size: cover;
  background-image: url("https://www.w3schools.com/w3images/mac.jpg");
  min-height: 100%;
} */
#result {
    margin-top: 20px;
    padding: 20px;
    background-color: #f8f8f8;
    border-radius: 5px;
  }
  #result p {
    display: flex;
    align-items: center;
    font-size: 18px;
    font-weight: bold;
    margin: 10px 0;
  }
  #result p i {
    margin-right: 10px;
  }
  #result p {
    font-family: 'Open Sans', sans-serif;
  }


  .p3 {
  font-family: "Georgia", "Courier New", monospace;
}

h2 {
  text-align: center;
}


h4 {
  text-align: center;
}

p.date {
  text-align: right;
}


h3 {
  text-align: right;
}

#div1 {
  float:right;

}

#div2 {
  float:left;
}


.predict-image {
  background-image: url("https://thumbs.dreamstime.com/z/hospital-medical-expense-doctor-holding-banknote-money-health-insurance-concept-125229505.jpg");

}

#div3 {
  background-color:rgb(38, 132, 246);

}
#div4 {
  background-color:rgb(38, 132, 246);

}
 #div5 {
  width:33.33%;
  margin: 0 auto;
 }

 #div6 {
  background-color:rgb(38, 132, 246);
 }
 h2 {
  color:white;
 }

 h4 {
  color:white;
 }

</style>
<script>
      $(function() {
        $('form').submit(function(e) {
          e.preventDefault(); // prevent the form from submitting in the traditional way
          $.ajax({
            type: 'POST',
            url: '/predict',
            data: $('form').serialize(), // serialize the form data and send it to the server
            success: function(data) {
              $('#result').html("<p><i class='fas fa-clock'></i>Treatment Time: <span>  " + data.predictionResult1 +"</span></p>"+ "<p><i class='fas fa-sign-out-alt'></i>Time of Discharge: <span>  " + data.predictionResult2 +"</span></p>" + "<p><i class='fas fa-money-bill-wave'></i>Cost of Treatment: <span> $" + data.predictionResult3 +"</span></p>").hide().fadeIn(1000);
}

          });
        });
        $('#reset').click(function() {
        $('#result').empty();
        $('#diseaseInput').empty();
      });
      });
    </script>
</head>
<body class="w3-content" style="max-width:1450px">

<!-- header content insertion -->
<%- include('header.ejs')%>


<div class="w3-main" style="margin-left:250px">
    <!--chat bot insertions-->
    <%- include ('chatbot.ejs') %>

  <div class="w3-row w3-padding-60">

    <br>
    <div class="w3-full w3-container">
       <div class="w3-twothird w3-display-container mySlides">

    <img src="<%= session.hospitalData.hosimage%>"style="width:100%;height:500px"></div>
    <div id = "div1" class="w3-third w3-container">
      <div  id="home"></div>
    <div  class="hospital-details">
  
    <h2 id = "div6" class="header  p3">Hospital Details</h2>
    <h1 class="header  p3"><%= session.hospitalData.hosname%></h1><br>
    <a href="#team" class="w3-bar-item w3-button p3"><i class="fa fa-user"></i> TEAM</a>
    <a href="#insurance" class="w3-bar-item w3-button p3"> <i class="fa fa-heartbeat"></i> INSURANCE</a>
  
    <a href="#time" class="w3-bar-item w3-button p3"><i class="fa fa-clock-o"></i> PREDICT TIME</a>
  
  
  
    <ul>
      <li class = "p3"><strong>Address:</strong> <%= session.hospitalData.hosadd%></li>
      <li  class = "p3"><strong>Phone:</strong> <%= session.hospitalData.hosphone%></li>
    </ul>
    <a href="#contact" class="w3-bar-item w3-button p3"><i class="fa fa-phone-square"></i> CONTACT</a>
  </div>
  </div>
    </div>
    <br>


</div>



<!-- Doctor Container -->
<div class="w3-container w3-padding-64 w3-center" id="team">

 
  <%if(session.hospitalData.doctordetails){%>


<div class="testimonial-slider">
  <div id="carouselExampleControls" class="carousel carousel-dark" data-bs-ride="carousel">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-4">
          <div class="testimonial-title">
            <i class="bi bi-quote display-1"></i>
            <h2 class="fw-bold display-6 p3">What our Doctors say</h2>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
        <div class="col-md-8">
          <div class="carousel-inner">

            <% for(var i=0; i < session.hospitalData.doctordetails.length; i++){%>
            <div class="carousel-item">
              <div class="card">
                <div class="img-wrapper"><img src="<%=session.hospitalData.doctordetails[i].DoctorImage%>" class="d-block w-100" alt="..."> </div>
                <div class="card-body">
                  <h5 class="card-title"><%=session.hospitalData.doctordetails[i].DoctorName%></h5>
                  <p class="card-text"><%=session.hospitalData.doctordetails[i].DoctorSpecialization%></p>
                  <p class="card-text"><%=session.hospitalData.doctordetails[i].DoctorEmail%></p>
                </div>
              </div>
            </div>
            <%}%>



          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.min.js'></script><script  src="./script.js"></script>



  <%}%>

  </div>

  <!-- </div>
  </div> -->

<%if(session.hospitalData.hospitalinsurance){%>
<div class="w3-container w3-center ">
  <div class="w3-container w3-center   ">
    <div class="w3-container w1-padding-64 w3-center w3-blue " id="insurance"></div>
    <h2 id = "div3" class = "p3">Accepted Insurances</h2>
  </div>
<br>
  <div class="w3-row w3-center">
    <% for(var i=0; i < session.hospitalData.hospitalinsurance.length; i++){%>
    <div class="w3-col w3-center insucard w3-card" style="border-radius: 20px;">
      <img width="100%" height="180px" src="https://content-static.healthcare.inc/uploads/sites/2/2022/01/largest-insurers-by-state-1920-width-1-5-v2-1024x775.jpg" alt="">
      <div style="height:250px" class="w3-container">
        <h2 class="w3-text-black" ><%=session.hospitalData.hospitalinsurance[i].InsuranceName%></h2>
        <p style="text-align:left" ><%=session.hospitalData.hospitalinsurance[i].InsuranceDescription%></p>
      </div>
    </div>
    <%}%>
  </div>

</div>
<%}%>
<%if(session.hospitalData.hosservices){%>
  <div   class="treatments ins-image">
    <div class="columns " >
      <ul class="price w3-card" style="border-radius: 20px;">
        <li class="header w3-blue p3 w3-card" style="border-top-left-radius: 20px; border-top-right-radius: 20px;">Treatements Provided</li>
        <li class="grey p3">Consultation Fee : 25$</li>
        <% for(var i=0; i < session.hospitalData.hosservices.length; i++){%>
        <li>
          <div class="w3-container">
            <button style="border:0px solid black;"  onclick="myFunction('Demo<%=i%>')" class=" grey  w3-btn w3-block w3-input p3"><%=hosservices[i].FeatureName%></button>
              <div id="Demo<%=i%>" style="border-radius:20px;" class="grey w3-container w3-hide">
                <h4><%=session.hospitalData.hosservices[i].FeatureName%></h4>
                <h5><%=session.hospitalData.hosservices[i].FeatureDescription%></h5>
                <small>The approximate price for a generic treatement under <%=session.hospitalData.hosservices[i].FeatureName%> is around <%=session.hospitalData.hosservices[i].FeaturePrice%> $ </small>
              </div>
          </div>
        </li>
        <%}%>
        <li class="grey"><a href="tel:<%=session.hospitalData.hosphone%>" class="w3-black w3-btn p3">Call us</a></li>
      </ul>
    </div>
  </div>
<%}%>
<br>


<div class=" w3-padding-64 w3-center container predict-image">
  <div class = "columns" >
  <div class=" card text-white  w3-blue mb-3" style="max-width: 50rem;">

<form>
  <div id="time"></div>
  <div class="card-header"></div>

  <div class="card-body">

    <h5 class="card-title p3">Please enter the disease or incident</h5>

    <input type="text" class="form-control p3" id="diseaseInput" name="message" placeholder="Disease or Incident">
  </div>
  <div class="text-right">
  <button type="submit"  class="w3-black btn btn-primary p3">Predict</button>
  <button type="button" id="reset" class="btn btn-secondary p3">Reset</button>
  </div>
</form>
</div>
<div id="result">
</div>
</div>
</div>
<br>
<br>
 <!-- Footer -->
<footer class="w3-container w3-padding-64 w3-center w3-padding-64 w3-light-grey w3-small w3-center p3" id="footer">
  <div class="w3-row-padding">
    
    <a href="#home" class="w3-button w3-light-grey"><i class="fa fa-arrow-up w3-margin-right p3"></i>To the top</a>
    <%- include('footer.ejs')%>
  </div>
</footer>
</div>





</div>



<!-- Newsletter Modal -->
<div id="newsletter" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom" style="padding:32px">
    <div class="w3-container w3-white w3-center">

      <i onclick="document.getElementById('newsletter').style.display='none'" class="fa fa-remove w3-right w3-button w3-transparent w3-xxlarge"></i>
      <h2 class="w3-wide">NEWSLETTER</h2>
      <p>Join our mailing list to receive updates on new arrivals and special offers.</p>
      <p><input class="w3-input w3-border" type="text" placeholder="Enter e-mail"></p>
      <button type="button" class="w3-button w3-padding-large w3-red w3-margin-bottom" onclick="document.getElementById('newsletter').style.display='none'">Subscribe</button>
    </div>
  </div>
</div>



<script>
function myFunction(id) {
  var x = document.getElementById(id);
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
  } else {
    x.className = x.className.replace(" w3-show", "");
  }
}

function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
}

// Open and close sidebar
function w3_open() {
  document.getElementById("mySidebar").style.display = "block";
  document.getElementById("myOverlay").style.display = "block";
}

function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
  document.getElementById("myOverlay").style.display = "none";
}

var multipleCardCarousel = document.querySelector("#carouselExampleControls");
if (window.matchMedia("(min-width: 576px)").matches) {
  var carousel = new bootstrap.Carousel(multipleCardCarousel, {
    interval: false
  });
  var carouselWidth = $(".carousel-inner")[0].scrollWidth;
  var cardWidth = $(".carousel-item").width();
  var scrollPosition = 0;
  $("#carouselExampleControls .carousel-control-next").on("click", function () {
    if (scrollPosition < carouselWidth - cardWidth * 3) {
      scrollPosition += cardWidth;
      $("#carouselExampleControls .carousel-inner").animate(
        { scrollLeft: scrollPosition },
        600
      );
    }
  });
  $("#carouselExampleControls .carousel-control-prev").on("click", function () {
    if (scrollPosition > 0) {
      scrollPosition -= cardWidth;
      $("#carouselExampleControls .carousel-inner").animate(
        { scrollLeft: scrollPosition },
        600
      );
    }
  });
} else {
  $(multipleCardCarousel).addClass("slide");
}

</script>

</body>
</html>
